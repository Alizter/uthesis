\begin{prooftree}
    %\rootAtTop
    \def\ScoreOverhang{1pt}
    %%%
    \AxiomC{$x : A \in \Gamma , x : A, y : C$}
    \LeftLabel{(var)}
    \UnaryInfC{$\Gamma , x : A, y : C \vdash x \Rightarrow A$}
    \AxiomC{}
    \RightLabel{$(***)$}
    \UnaryInfC{$\Gamma , x : A, y : C \vdash C \to D \equiv A \ \mathsf{type}$}
        %\insertBetweenHyps{\hskip -5pt}
    \BinaryInfC{$\Gamma , x : A, y : C \vdash x \Leftarrow C \to D$}
    \AxiomC{}
    \RightLabel{$(\dagger)$}
    \UnaryInfC{$\Gamma , x : A, y : C \vdash y \Leftarrow C$}
    \noLine
    \UnaryInfC{$\vdots$}
    \noLine
    \UnaryInfC{$\vdots$}
        \insertBetweenHyps{\hskip -40pt}
    \LeftLabel{($\to$-elim)}                
    \BinaryInfC{$\Gamma , x : A, y : C \vdash x y \Rightarrow D$}
    \AxiomC{}
    \RightLabel{($\equiv_{\mathsf{type}}$-refl)}
    \UnaryInfC{$\Gamma , x : A, y : C \vdash D \equiv D\ \mathsf{type}$}
    \LeftLabel{(switch)}
        \insertBetweenHyps{\hskip -50pt}
    \BinaryInfC{$\Gamma , x : A , y : C \vdash xy \Leftarrow D$}
    \LeftLabel{($\to$-intro)}
    \UnaryInfC{$\Gamma , x : A \vdash \lambda y . x y \Rightarrow C \to D$}
    \AxiomC{}
    \RightLabel{$(**)$}
    \UnaryInfC{$\Gamma , x : A \vdash B \equiv C \to D \ \mathsf{type}$}
    \LeftLabel{(switch)}
        \insertBetweenHyps{\hskip -130pt}
    \BinaryInfC{$ \Gamma , x : A \vdash \lambda y . xy \Leftarrow B$}
    \LeftLabel{($\to$-intro)}
    \UnaryInfC{$\Gamma \vdash \lambda x . \lambda y . x y \Rightarrow A \to B$}
    \AxiomC{}
    \RightLabel{$(*)$}
    \UnaryInfC{$\Gamma \vdash T \equiv A \to B \ \mathsf{type}$}
    \LeftLabel{(switch)}
        \insertBetweenHyps{\hskip -90pt}
    \BinaryInfC{$\Gamma \vdash \lambda x . \lambda y . x y \Leftarrow T$}
\end{prooftree}
